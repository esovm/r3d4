;---r3 compiler code.asm; r3/demos/mandelbrot.r3;--------------------------; :*.  e     . calls:5 niv:0 len:7 [ ab -- c ]w1:;---------OPT;---------ANA; 16	; [ 0 1 ] ; *>>	; [ 0 1 2 ] ; DUP	; [ 3 ] ; 63	; [ 3 3 ] ; >>	; [ 3 3 4 ] ; -	; [ 3 5 ] ; ;	; [ 6 ] ; ---- cells ----; 0 R:0 W:1 (0:2) 1; 1 R:0 W:1 U (0:2) 2; 2 R:0 W:0 U (1:2) 0; 3 R:0 W:1 (2:7) 2; 4 R:0 W:0 U (4:5) 0; 5 R:0 W:1 U (5:6) 3; 6 R:0 W:1 A (6:7) 3;---------GEN; 16; OPTN *>>cqoimul qword[rbp]sub rbp,8shrd rax,rdx,16; DUPadd rbp,8mov [rbp],rax; 63; OPTN >>sar rax,63; -neg raxadd rax,[rbp]sub rbp,8; ;ret;--------------------------; :onshow  e     . calls:1 niv:1 len:17 [ a --  ]w100:;---------OPT;---------ANA; 0	; [ 0 ] ; '.exit	; [ 0 1 ] ; !	; [ 0 1 2 ] ; (	; [ 0 ] ; .exit	; [ 0 ] ; 0?	; [ 0 3 ] ; DROP	; [ 0 3 ] ; UPDATE	; [ 0 ] ; DUP	; [ 0 ] ; EX	; [ 0 0 ] ; REDRAW	; [ 0 ] ; )	; [ 0 ] ; 2DROP	; [ 0 3 ] ; 0	; [ ] ; '.exit	; [ 4 ] ; !	; [ 4 5 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:1 (0:13) 1; 1 R:0 W:0 U A (1:3) 0; 2 R:0 W:0 U (2:3) 0; 3 R:1 W:0 U (5:15) 0; 4 R:0 W:0 U (14:16) 0; 5 R:0 W:0 U (15:16) 0;---------GEN; 0add rbp,8mov [rbp],raxxor rax,rax; '.exit; OPTAV !mov dword[wFF],eaxmov rax,[rbp]sub rbp,8; (_i9A:; .exitadd rbp,8mov [rbp],raxmovsxd rax,dword[wFF]; 0?or rax,raxjnz _o9A; DROPmov rax,[rbp]sub rbp,8; UPDATEcall SYSREDRAW; DUPadd rbp,8mov [rbp],rax; EXmov rcx,raxmov rax,[rbp]sub rbp,8call rcx; REDRAWcall SYSUPDATE; )jmp _i9A_o9A:; 2DROPmov rax,[rbp-8]sub rbp,8*2; 0add rbp,8mov [rbp],raxxor rax,rax; '.exit; OPTAV !mov dword[wFF],eaxmov rax,[rbp]sub rbp,8; ;ret;--------------------------; :exit  e     . calls:1 niv:0 len:4 [  --  ]w101:;---------OPT;---------ANA; 1	; [ ] ; '.exit	; [ 0 ] ; !	; [ 0 1 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:0 U (1:3) 0; 1 R:0 W:0 U A (2:3) 0;---------GEN; 1add rbp,8mov [rbp],raxmov rax,1; '.exit; OPTAV !mov dword[wFF],eaxmov rax,[rbp]sub rbp,8; ;ret;--------------------------; :wk  l'    . calls:1 niv:1 len:8 [  --  ]w102:;---------OPT;---------ANA; KEY	; [ ] ; $101b	; [ 0 ] ; =?	; [ 0 1 ] ; (	; [ 0 ] ; exit	; [ 0 ] ; )	; [ 0 ] ; DROP	; [ 0 ] ; ;	; [ ] ; ---- cells ----; 0 R:1 W:0 U (1:7) 0; 1 R:1 W:0 U A (2:3) 0;---------GEN; KEYadd rbp,8mov [rbp],raxmov eax,dword[SYSKEY]; $101b; OPTN =?cmp rax,4123jne _o9B; (; exitcall w101; )_o9B:; DROPmov rax,[rbp]sub rbp,8; ;ret;--------------------------; :waitesc  e     . calls:1 niv:2 len:3 [  --  ]w103:;---------OPT;---------ANA; 'wk	; [ ] ; onshow	; [ 0 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:0 U (1:2) 0;---------GEN; 'wkadd rbp,8mov [rbp],raxmov rax,w102; onshowjmp w100; ;;--------------------------; :mbuffi  l     . calls:5 niv:0 len:9 [  -- a ]w11F:;---------OPT;---------ANA; 'mbuff	; [ ] ; 63	; [ 0 ] ; +	; [ 0 1 ] ; 0	; [ 2 ] ; OVER	; [ 2 3 ] ; C!	; [ 2 3 2 ] ; 1	; [ 2 ] ; -	; [ 2 4 ] ; ;	; [ 5 ] ; ---- cells ----; 0 R:0 W:0 U (1:3) 0; 1 R:0 W:0 U (2:3) 0; 2 R:0 W:1 (3:10) 1; 3 R:0 W:0 U (4:6) 0; 4 R:0 W:0 U (7:8) 0; 5 R:0 W:1 A (8:9) 2;---------GEN; 'mbuffadd rbp,8mov [rbp],raxmov rax,w11E; 63; OPTN +add rax,63; 0add rbp,8mov [rbp],raxxor rax,rax; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; C!mov rcx,[rbp]mov byte[rax],clmov rax,[rbp-8]sub rbp,8*2; 1; OPTN -sub rax,1; ;ret;--------------------------; :sign  l  ;  . calls:2 niv:0 len:12 [ ab -- c ]w120:;---------OPT;---------ANA; -?	; [ 0 1 ] ; (	; [ 0 1 ] ; DROP	; [ 0 1 ] ; $2d	; [ 0 ] ; OVER	; [ 0 2 ] ; C!	; [ 0 2 0 ] ; ;	; [ 0 ] ; )	; [ 0 ] ; DROP	; [ 0 1 ] ; 1	; [ 0 ] ; +	; [ 0 3 ] ; ;	; [ 4 ] ; ---- cells ----; 0 R:0 W:1 A (0:11) 1; 1 R:1 W:1 U (0:11) 2; 2 R:0 W:0 U (4:6) 0; 3 R:0 W:0 U (10:11) 0; 4 R:0 W:1 A (11:12) 2;---------GEN; -?or rax,raxjns _oBC; (; DROPmov rax,[rbp]sub rbp,8; $2dadd rbp,8mov [rbp],raxmov rax,45; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; C!mov rcx,[rbp]mov byte[rax],clmov rax,[rbp-8]sub rbp,8*2; ;ret; )_oBC:; DROPmov rax,[rbp]sub rbp,8; 1; OPTN +add rax,1; ;ret;--------------------------; :.d  e     . calls:4 niv:1 len:21 [ a -- b ]w121:;---------OPT;---------ANA; DUP	; [ 0 ] ; ABS	; [ 0 0 ] ; mbuffi	; [ 0 1 ] ; SWAP	; [ 0 1 2 ] ; (	; [ 0 2 1 ] ; DUP	; [ 0 2 1 ] ; ^r3/sys/asmbase.r3	; [ 0 2 1 1 ] ; asmbase.r3	; [ 0 2 1 1 3 ] ; *>>	; [ 0 2 1 1 3 4 ] ; DUP	; [ 0 2 1 5 ] ; r3	; [ 0 2 1 5 5 ] ; >>	; [ 0 2 1 5 5 6 ] ; -	; [ 0 2 1 5 7 ] ; SWAP	; [ 0 2 1 8 ] ; OVER	; [ 0 2 8 1 ] ; ple	; [ 0 2 8 1 8 ] ; *	; [ 0 2 8 1 8 9 ] ; -	; [ 0 2 8 1 A ] ; $30	; [ 0 2 8 B ] ; +	; [ 0 2 8 B C ] ; PICK2	; [ 0 2 8 D ] ; C!	; [ 0 2 8 D 2 ] ; SWAP	; [ 0 2 8 ] ; 1	; [ 0 8 2 ] ; -	; [ 0 8 2 E ] ; SWAP	; [ 0 8 F ] ; 1?	; [ 0 F 8 ] ; )	; [ 0 F 8 ] ; DROP	; [ 0 F 8 ] ; SWAP	; [ 0 F ] ; sign	; [ F 0 ] ; ;	; [ 10 ] ; ---- cells ----; 0 R:0 W:1 (0:31) 1; 1 R:0 W:1 (2:19) 2; 2 R:0 W:0 U (3:27) 0; 3 R:0 W:0 U (7:9) 0; 4 R:0 W:0 U (8:9) 0; 5 R:0 W:1 U (9:13) 3; 6 R:0 W:0 U (11:12) 0; 7 R:0 W:1 U (12:13) 4; 8 R:1 W:1 (13:29) 4; 9 R:0 W:0 U (16:17) 0; A R:0 W:1 U (17:18) 3; B R:0 W:1 U (18:20) 3; C R:0 W:0 U (19:20) 0; D R:0 W:1 U (20:22) 3; E R:0 W:0 U (24:25) 0; F R:0 W:1 (25:31) 3; 10 R:0 W:0 U A (31:32) 0;---------GEN; DUPadd rbp,8mov [rbp],rax; ABScqoadd rdx,rdxxor rax,rdx; mbufficall w11F; SWAPxchg rax,[rbp]; (_iBD:; DUPadd rbp,8mov [rbp],rax; $66666667 ; calcadd rbp,8mov [rbp],raxmov rax,1717986919; $22 ; calc; OPTC *>>cqoimul qword[rbp]sub rbp,8shrd rax,rdx,34; DUPadd rbp,8mov [rbp],rax; $3F ; calc; OPTC >>sar rax,63; -neg raxadd rax,[rbp]sub rbp,8; SWAPxchg rax,[rbp]; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; $A ; calc; OPTC *imul rax,10; -neg raxadd rax,[rbp]sub rbp,8; $30; OPTN +add rax,48; PICK2add rbp,8mov [rbp],raxmov rax,[rbp-8*2]; C!mov rcx,[rbp]mov byte[rax],clmov rax,[rbp-8]sub rbp,8*2; SWAPxchg rax,[rbp]; 1; OPTN -sub rax,1; SWAPxchg rax,[rbp]; 1?or rax,raxjz _oBD; )jmp _iBD_oBD:; DROPmov rax,[rbp]sub rbp,8; SWAPxchg rax,[rbp]; signjmp w120; ;;--------------------------; :.b  e     . calls:1 niv:1 len:22 [ a -- b ]w122:;---------OPT;---------ANA; mbuffi	; [ 0 ] ; SWAP	; [ 0 1 ] ; (	; [ 1 0 ] ; DUP	; [ 1 0 ] ; $1	; [ 1 0 0 ] ; AND	; [ 1 0 0 2 ] ; $30	; [ 1 0 3 ] ; +	; [ 1 0 3 4 ] ; PICK2	; [ 1 0 5 ] ; C!	; [ 1 0 5 1 ] ; SWAP	; [ 1 0 ] ; 1	; [ 0 1 ] ; -	; [ 0 1 6 ] ; SWAP	; [ 0 7 ] ; 1	; [ 7 0 ] ; >>>	; [ 7 0 8 ] ; 1?	; [ 7 9 ] ; )	; [ 7 9 ] ; DROP	; [ 7 9 ] ; 1	; [ 7 ] ; +	; [ 7 A ] ; ;	; [ B ] ; ---- cells ----; 0 R:0 W:1 (0:18) 1; 1 R:0 W:0 U (1:15) 0; 2 R:0 W:0 U (5:6) 0; 3 R:0 W:1 U (6:8) 2; 4 R:0 W:0 U (7:8) 0; 5 R:0 W:1 U (8:10) 2; 6 R:0 W:0 U (12:13) 0; 7 R:0 W:1 (13:21) 2; 8 R:0 W:0 U (15:16) 0; 9 R:1 W:1 U (16:19) 3; A R:0 W:0 U (20:21) 0; B R:0 W:1 A (21:22) 3;---------GEN; mbufficall w11F; SWAPxchg rax,[rbp]; (_iBE:; DUPadd rbp,8mov [rbp],rax; $1; OPTN ANDand rax,1; $30; OPTN +add rax,48; PICK2add rbp,8mov [rbp],raxmov rax,[rbp-8*2]; C!mov rcx,[rbp]mov byte[rax],clmov rax,[rbp-8]sub rbp,8*2; SWAPxchg rax,[rbp]; 1; OPTN -sub rax,1; SWAPxchg rax,[rbp]; 1; OPTN >>>shr rax,1; 1?or rax,raxjz _oBE; )jmp _iBE_oBE:; DROPmov rax,[rbp]sub rbp,8; 1; OPTN +add rax,1; ;ret;--------------------------; :.h  e     . calls:1 niv:1 len:28 [ a -- b ]w123:;---------OPT;---------ANA; mbuffi	; [ 0 ] ; SWAP	; [ 0 1 ] ; (	; [ 1 0 ] ; DUP	; [ 1 0 ] ; $f	; [ 1 0 0 ] ; AND	; [ 1 0 0 2 ] ; $30	; [ 1 0 3 ] ; +	; [ 1 0 3 4 ] ; $39	; [ 1 0 5 ] ; >?	; [ 1 0 5 6 ] ; (	; [ 1 0 5 ] ; 7	; [ 1 0 5 ] ; +	; [ 1 0 5 7 ] ; )	; [ 1 0 8 ] ; PICK2	; [ 1 0 5 ] ; C!	; [ 1 0 5 1 ] ; SWAP	; [ 1 0 ] ; 1	; [ 0 1 ] ; -	; [ 0 1 9 ] ; SWAP	; [ 0 A ] ; 4	; [ A 0 ] ; >>>	; [ A 0 B ] ; 1?	; [ A C ] ; )	; [ A C ] ; DROP	; [ A C ] ; 1	; [ A ] ; +	; [ A D ] ; ;	; [ E ] ; ---- cells ----; 0 R:0 W:1 (0:22) 1; 1 R:0 W:0 U (1:19) 0; 2 R:0 W:0 U (5:6) 0; 3 R:0 W:1 U (6:8) 2; 4 R:0 W:0 U (7:8) 0; 5 R:1 W:1 U (8:17) 2; 6 R:1 W:0 U (9:10) 0; 7 R:0 W:0 U (12:13) 0; 8 R:0 W:1 U (13:0) 3; 9 R:0 W:0 U (18:19) 0; A R:0 W:1 (19:27) 3; B R:0 W:0 U (21:22) 0; C R:1 W:1 U (22:25) 2; D R:0 W:0 U (26:27) 0; E R:0 W:1 A (27:28) 2;---------GEN; mbufficall w11F; SWAPxchg rax,[rbp]; (_iBF:; DUPadd rbp,8mov [rbp],rax; $f; OPTN ANDand rax,15; $30; OPTN +add rax,48; $39; OPTN >?cmp rax,57jle _oC0; (; 7; OPTN +add rax,7; )_oC0:; PICK2add rbp,8mov [rbp],raxmov rax,[rbp-8*2]; C!mov rcx,[rbp]mov byte[rax],clmov rax,[rbp-8]sub rbp,8*2; SWAPxchg rax,[rbp]; 1; OPTN -sub rax,1; SWAPxchg rax,[rbp]; 4; OPTN >>>shr rax,4; 1?or rax,raxjz _oBF; )jmp _iBF_oBF:; DROPmov rax,[rbp]sub rbp,8; 1; OPTN +add rax,1; ;ret;--------------------------; :.o  e     . calls:1 niv:1 len:22 [ a -- b ]w124:;---------OPT;---------ANA; mbuffi	; [ 0 ] ; SWAP	; [ 0 1 ] ; (	; [ 1 0 ] ; DUP	; [ 1 0 ] ; $7	; [ 1 0 0 ] ; AND	; [ 1 0 0 2 ] ; $30	; [ 1 0 3 ] ; +	; [ 1 0 3 4 ] ; PICK2	; [ 1 0 5 ] ; C!	; [ 1 0 5 1 ] ; SWAP	; [ 1 0 ] ; 1	; [ 0 1 ] ; -	; [ 0 1 6 ] ; SWAP	; [ 0 7 ] ; 3	; [ 7 0 ] ; >>>	; [ 7 0 8 ] ; 1?	; [ 7 9 ] ; )	; [ 7 9 ] ; DROP	; [ 7 9 ] ; 1	; [ 7 ] ; +	; [ 7 A ] ; ;	; [ B ] ; ---- cells ----; 0 R:0 W:1 (0:18) 1; 1 R:0 W:0 U (1:15) 0; 2 R:0 W:0 U (5:6) 0; 3 R:0 W:1 U (6:8) 2; 4 R:0 W:0 U (7:8) 0; 5 R:0 W:1 U (8:10) 2; 6 R:0 W:0 U (12:13) 0; 7 R:0 W:1 (13:21) 2; 8 R:0 W:0 U (15:16) 0; 9 R:1 W:1 U (16:19) 3; A R:0 W:0 U (20:21) 0; B R:0 W:1 A (21:22) 3;---------GEN; mbufficall w11F; SWAPxchg rax,[rbp]; (_iC1:; DUPadd rbp,8mov [rbp],rax; $7; OPTN ANDand rax,7; $30; OPTN +add rax,48; PICK2add rbp,8mov [rbp],raxmov rax,[rbp-8*2]; C!mov rcx,[rbp]mov byte[rax],clmov rax,[rbp-8]sub rbp,8*2; SWAPxchg rax,[rbp]; 1; OPTN -sub rax,1; SWAPxchg rax,[rbp]; 3; OPTN >>>shr rax,3; 1?or rax,raxjz _oC1; )jmp _iC1_oC1:; DROPmov rax,[rbp]sub rbp,8; 1; OPTN +add rax,1; ;ret;--------------------------; :.f  e     . calls:1 niv:1 len:51 [ a -- b ]w125:;---------OPT;---------ANA; mbuffi	; [ 0 ] ; OVER	; [ 0 1 ] ; $ffff	; [ 0 1 0 ] ; AND	; [ 0 1 0 2 ] ; 10000	; [ 0 1 3 ] ; 16	; [ 0 1 3 4 ] ; *>>	; [ 0 1 3 4 5 ] ; 10000	; [ 0 1 6 ] ; +	; [ 0 1 6 7 ] ; (	; [ 0 1 8 ] ; DUP	; [ 0 1 8 ] ; ^r3/sys/asmbase.r3	; [ 0 1 8 8 ] ; asmbase.r3	; [ 0 1 8 8 9 ] ; *>>	; [ 0 1 8 8 9 A ] ; DUP	; [ 0 1 8 B ] ; r3	; [ 0 1 8 B B ] ; >>	; [ 0 1 8 B B C ] ; -	; [ 0 1 8 B D ] ; SWAP	; [ 0 1 8 E ] ; OVER	; [ 0 1 E 8 ] ; ple	; [ 0 1 E 8 E ] ; *	; [ 0 1 E 8 E F ] ; -	; [ 0 1 E 8 10 ] ; $30	; [ 0 1 E 11 ] ; +	; [ 0 1 E 11 12 ] ; PICK2	; [ 0 1 E 13 ] ; C!	; [ 0 1 E 13 1 ] ; SWAP	; [ 0 1 E ] ; 1	; [ 0 E 1 ] ; -	; [ 0 E 1 14 ] ; SWAP	; [ 0 E 15 ] ; 1?	; [ 0 15 E ] ; )	; [ 0 15 E ] ; DROP	; [ 0 15 E ] ; 1	; [ 0 15 ] ; +	; [ 0 15 16 ] ; $2e	; [ 0 17 ] ; OVER	; [ 0 17 18 ] ; C!	; [ 0 17 18 17 ] ; 1	; [ 0 17 ] ; -	; [ 0 17 19 ] ; OVER	; [ 0 1A ] ; ABS	; [ 0 1A 0 ] ; 16	; [ 0 1A 1B ] ; >>	; [ 0 1A 1B 1C ] ; (	; [ 0 1A 1D ] ; DUP	; [ 0 1A 1D ] ; elbrot	; [ 0 1A 1D 1D ] ; iewer	; [ 0 1A 1D 1D 1E ] ; *>>	; [ 0 1A 1D 1D 1E 1F ] ; DUP	; [ 0 1A 1D 20 ] ; 	; [ 0 1A 1D 20 20 ] ; >>	; [ 0 1A 1D 20 20 21 ] ; -	; [ 0 1A 1D 20 22 ] ; SWAP	; [ 0 1A 1D 23 ] ; OVER	; [ 0 1A 23 1D ] ; 2010	; [ 0 1A 23 1D 23 ] ; *	; [ 0 1A 23 1D 23 24 ] ; -	; [ 0 1A 23 1D 25 ] ; $30	; [ 0 1A 23 26 ] ; +	; [ 0 1A 23 26 27 ] ; PICK2	; [ 0 1A 23 28 ] ; C!	; [ 0 1A 23 28 1A ] ; SWAP	; [ 0 1A 23 ] ; 1	; [ 0 23 1A ] ; -	; [ 0 23 1A 29 ] ; SWAP	; [ 0 23 2A ] ; 1?	; [ 0 2A 23 ] ; )	; [ 0 2A 23 ] ; DROP	; [ 0 2A 23 ] ; SWAP	; [ 0 2A ] ; sign	; [ 2A 0 ] ; ;	; [ 2B ] ; ---- cells ----; 0 R:0 W:1 (0:75) 1; 1 R:0 W:0 U (1:31) 0; 2 R:0 W:0 U (3:4) 0; 3 R:0 W:1 U (4:7) 2; 4 R:0 W:0 U (5:7) 0; 5 R:0 W:0 U (6:7) 0; 6 R:0 W:1 U (7:9) 2; 7 R:0 W:0 U (8:9) 0; 8 R:0 W:1 U (9:23) 2; 9 R:0 W:0 U (12:14) 0; A R:0 W:0 U (13:14) 0; B R:0 W:1 U (14:19) 3; C R:0 W:0 U (16:17) 0; D R:0 W:1 U (17:18) 4; E R:1 W:1 U (18:34) 4; F R:0 W:0 U (21:22) 0; 10 R:0 W:1 U (22:23) 3; 11 R:0 W:1 U (23:25) 3; 12 R:0 W:0 U (24:25) 0; 13 R:0 W:1 U (25:27) 3; 14 R:0 W:0 U (29:30) 0; 15 R:0 W:1 U (30:36) 3; 16 R:0 W:0 U (35:36) 0; 17 R:0 W:1 U (36:43) 3; 18 R:0 W:0 U (37:39) 0; 19 R:0 W:0 U (40:41) 0; 1A R:0 W:1 (41:67) 4; 1B R:0 W:1 U (43:45) 3; 1C R:0 W:0 U (44:45) 0; 1D R:0 W:1 (45:59) 3; 1E R:0 W:0 U (48:50) 0; 1F R:0 W:0 U (49:50) 0; 20 R:0 W:1 U (50:55) 2; 21 R:0 W:0 U (52:53) 0; 22 R:0 W:1 U (53:54) 5; 23 R:1 W:1 (54:70) 5; 24 R:0 W:0 U (57:58) 0; 25 R:0 W:1 U (58:59) 2; 26 R:0 W:1 U (59:61) 2; 27 R:0 W:0 U (60:61) 0; 28 R:0 W:1 U (61:63) 2; 29 R:0 W:0 U (65:66) 0; 2A R:0 W:1 (66:72) 2; 2B R:0 W:0 U A (72:73) 0;---------GEN; mbufficall w11F; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; $ffff; OPTN ANDand rax,65535; 10000add rbp,8mov [rbp],raxmov rax,10000; 16; OPTN *>>cqoimul qword[rbp]sub rbp,8shrd rax,rdx,16; 10000; OPTN +add rax,10000; (_iC2:; DUPadd rbp,8mov [rbp],rax; $66666667 ; calcadd rbp,8mov [rbp],raxmov rax,1717986919; $22 ; calc; OPTC *>>cqoimul qword[rbp]sub rbp,8shrd rax,rdx,34; DUPadd rbp,8mov [rbp],rax; $3F ; calc; OPTC >>sar rax,63; -neg raxadd rax,[rbp]sub rbp,8; SWAPxchg rax,[rbp]; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; $A ; calc; OPTC *imul rax,10; -neg raxadd rax,[rbp]sub rbp,8; $30; OPTN +add rax,48; PICK2add rbp,8mov [rbp],raxmov rax,[rbp-8*2]; C!mov rcx,[rbp]mov byte[rax],clmov rax,[rbp-8]sub rbp,8*2; SWAPxchg rax,[rbp]; 1; OPTN -sub rax,1; SWAPxchg rax,[rbp]; 1?or rax,raxjz _oC2; )jmp _iC2_oC2:; DROPmov rax,[rbp]sub rbp,8; 1; OPTN +add rax,1; $2eadd rbp,8mov [rbp],raxmov rax,46; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; C!mov rcx,[rbp]mov byte[rax],clmov rax,[rbp-8]sub rbp,8*2; 1; OPTN -sub rax,1; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; ABScqoadd rdx,rdxxor rax,rdx; 16; OPTN >>sar rax,16; (_iC3:; DUPadd rbp,8mov [rbp],rax; $66666667 ; calcadd rbp,8mov [rbp],raxmov rax,1717986919; $22 ; calc; OPTC *>>cqoimul qword[rbp]sub rbp,8shrd rax,rdx,34; DUPadd rbp,8mov [rbp],rax; $3F ; calc; OPTC >>sar rax,63; -neg raxadd rax,[rbp]sub rbp,8; SWAPxchg rax,[rbp]; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; $A ; calc; OPTC *imul rax,10; -neg raxadd rax,[rbp]sub rbp,8; $30; OPTN +add rax,48; PICK2add rbp,8mov [rbp],raxmov rax,[rbp-8*2]; C!mov rcx,[rbp]mov byte[rax],clmov rax,[rbp-8]sub rbp,8*2; SWAPxchg rax,[rbp]; 1; OPTN -sub rax,1; SWAPxchg rax,[rbp]; 1?or rax,raxjz _oC3; )jmp _iC3_oC3:; DROPmov rax,[rbp]sub rbp,8; SWAPxchg rax,[rbp]; signjmp w120; ;;--------------------------; :mark  e     . calls:1 niv:0 len:14 [  --  ]w12B:;---------OPT;---------ANA; here	; [ ] ; 0?	; [ 0 ] ; (	; [ 0 ] ; MEM	; [ 0 ] ; DUP	; [ 0 1 ] ; 'here	; [ 0 1 1 ] ; !	; [ 0 1 1 2 ] ; NIP	; [ 0 1 ] ; )	; [ 1 ] ; memmap>	; [ 0 ] ; !+	; [ 0 3 ] ; 'memmap>	; [ 0 ] ; !	; [ 0 4 ] ; ;	; [ ] ; ---- cells ----; 0 R:1 W:0 U A (1:13) 0; 1 R:0 W:0 U (4:7) 0; 2 R:0 W:0 U (6:7) 0; 3 R:0 W:1 (10:11) 1; 4 R:0 W:0 U (12:13) 0;---------GEN; hereadd rbp,8mov [rbp],raxmovsxd rax,dword[w128]; 0?or rax,raxjnz _oC7; (; MEMadd rbp,8mov [rbp],raxmov rax,[FREE_MEM]; DUPadd rbp,8mov [rbp],rax; 'here; OPTAV !mov dword[w128],eaxmov rax,[rbp]sub rbp,8; NIPsub rbp,8; )_oC7:; memmap>; OPTV !+movsxd rbx,dword[w12A]mov dword[rbx],eaxadd rbx,4mov rax,rbx; 'memmap>; OPTAV !mov dword[w12A],eaxmov rax,[rbp]sub rbp,8; ;ret;--------------------------; :empty  e  ;  . calls:1 niv:0 len:19 [  --  ]w12C:;---------OPT;---------ANA; memmap>	; [ ] ; 'memmap	; [ 0 ] ; =?	; [ 0 1 ] ; (	; [ 0 ] ; DROP	; [ 0 ] ; MEM	; [ ] ; 'here	; [ 2 ] ; !	; [ 2 3 ] ; ;	; [ ] ; )	; [ ] ; 4	; [ 0 ] ; -	; [ 0 4 ] ; DUP	; [ 5 ] ; 'memmap>	; [ 5 5 ] ; !	; [ 5 5 6 ] ; @	; [ 5 ] ; 'here	; [ 5 ] ; !	; [ 5 7 ] ; ;	; [ ] ; ---- cells ----; 0 R:1 W:0 U A (1:13) 0; 1 R:1 W:0 U (2:3) 0; 2 R:0 W:0 U (6:8) 0; 3 R:0 W:0 U (7:8) 0; 4 R:0 W:0 U (11:12) 0; 5 R:0 W:2 (12:19) 1; 6 R:0 W:0 U (14:15) 0; 7 R:0 W:0 U (17:18) 0;---------GEN; memmap>add rbp,8mov [rbp],raxmovsxd rax,dword[w12A]; 'memmap; OPTAV =?cmp rax,w129jne _oC8; (; DROPmov rax,[rbp]sub rbp,8; MEMadd rbp,8mov [rbp],raxmov rax,[FREE_MEM]; 'here; OPTAV !mov dword[w128],eaxmov rax,[rbp]sub rbp,8; ;ret; )_oC8:; 4; OPTN -sub rax,4; DUPadd rbp,8mov [rbp],rax; 'memmap>; OPTAV !mov dword[w12A],eaxmov rax,[rbp]sub rbp,8; @movsxd rax,dword [rax]; 'here; OPTAV !mov dword[w128],eaxmov rax,[rbp]sub rbp,8; ;ret;--------------------------; :,c  e     . calls:5 niv:0 len:5 [ a --  ]w131:;---------OPT;---------ANA; here	; [ 0 ] ; C!+	; [ 0 1 ] ; 'here	; [ 0 ] ; !	; [ 0 2 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:1 A (0:4) 1; 1 R:0 W:1 (1:2) 2; 2 R:0 W:0 U (3:4) 0;---------GEN; here; OPTV C!+movsxd rbx,dword[w128]mov byte[rbx],aladd rbx,1mov rax,rbx; 'here; OPTAV !mov dword[w128],eaxmov rax,[rbp]sub rbp,8; ;ret;--------------------------; :,s  e     . calls:8 niv:0 len:13 [ a --  ]w133:;---------OPT;---------ANA; here	; [ 0 ] ; SWAP	; [ 0 1 ] ; (	; [ 1 0 ] ; C@+	; [ 1 0 ] ; 1?	; [ 1 0 2 ] ; ROT	; [ 1 0 2 ] ; C!+	; [ 0 2 1 ] ; SWAP	; [ 0 2 ] ; )	; [ 2 0 ] ; 2DROP	; [ 1 0 2 ] ; 'here	; [ 1 ] ; !	; [ 1 3 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:2 A (0:10) 1; 1 R:0 W:1 (1:15) 2; 2 R:1 W:0 U (4:10) 0; 3 R:0 W:0 U (11:12) 0;---------GEN; hereadd rbp,8mov [rbp],raxmovsxd rax,dword[w128]; SWAPxchg rax,[rbp]; (_iC9:; C@+movsx rbx,byte [rax]add rax,1add rbp,8mov [rbp],raxmov rax,rbx; 1?or rax,raxjz _oC9; ROTmov rcx,[rbp]mov [rbp],raxmov rax,[rbp-8]mov [rbp-8],rcx; C!+mov rcx,[rbp]mov byte[rax],cladd rax,1sub rbp,8; SWAPxchg rax,[rbp]; )jmp _iC9_oC9:; 2DROPmov rax,[rbp-8]sub rbp,8*2; 'here; OPTAV !mov dword[w128],eaxmov rax,[rbp]sub rbp,8; ;ret;--------------------------; :,w  e     . calls:1 niv:0 len:16 [ a --  ]w134:;---------OPT;---------ANA; here	; [ 0 ] ; SWAP	; [ 0 1 ] ; (	; [ 1 0 ] ; C@+	; [ 1 0 ] ; $ff	; [ 1 0 2 ] ; AND	; [ 1 0 2 3 ] ; 32	; [ 1 0 4 ] ; >?	; [ 1 0 4 5 ] ; ROT	; [ 1 0 4 ] ; C!+	; [ 0 4 1 ] ; SWAP	; [ 0 4 ] ; )	; [ 4 0 ] ; 2DROP	; [ 1 0 4 ] ; 'here	; [ 1 ] ; !	; [ 1 6 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:2 A (0:13) 1; 1 R:0 W:1 (1:15) 2; 2 R:0 W:0 U (4:6) 0; 3 R:0 W:0 U (5:6) 0; 4 R:1 W:1 (6:13) 3; 5 R:1 W:0 U (7:8) 0; 6 R:0 W:0 U (14:15) 0;---------GEN; hereadd rbp,8mov [rbp],raxmovsxd rax,dword[w128]; SWAPxchg rax,[rbp]; (_iCA:; C@+movsx rbx,byte [rax]add rax,1add rbp,8mov [rbp],raxmov rax,rbx; $ff; OPTN ANDand rax,255; 32; OPTN >?cmp rax,32jle _oCA; ROTmov rcx,[rbp]mov [rbp],raxmov rax,[rbp-8]mov [rbp-8],rcx; C!+mov rcx,[rbp]mov byte[rax],cladd rax,1sub rbp,8; SWAPxchg rax,[rbp]; )jmp _iCA_oCA:; 2DROPmov rax,[rbp-8]sub rbp,8*2; 'here; OPTAV !mov dword[w128],eaxmov rax,[rbp]sub rbp,8; ;ret;--------------------------; :,l  e  ;  . calls:1 niv:0 len:27 [ a --  ]w135:;---------OPT;---------ANA; here	; [ 0 ] ; SWAP	; [ 0 1 ] ; (	; [ 1 0 ] ; C@+	; [ 1 0 ] ; 1?	; [ 1 0 2 ] ; 10	; [ 1 0 2 ] ; =?	; [ 1 0 2 3 ] ; (	; [ 1 0 2 ] ; 3	; [ 1 0 2 ] ; +	; [ 1 0 2 4 ] ; )	; [ 1 0 5 ] ; 13	; [ 1 0 2 ] ; =?	; [ 1 0 2 6 ] ; (	; [ 1 0 2 ] ; 2DROP	; [ 1 0 2 ] ; 'here	; [ 1 ] ; !	; [ 1 7 ] ; ;	; [ ] ; )	; [ ] ; ROT	; [ 1 0 2 ] ; C!+	; [ 0 2 1 ] ; SWAP	; [ 0 2 ] ; )	; [ 2 0 ] ; 2DROP	; [ 1 0 2 ] ; 'here	; [ 1 ] ; !	; [ 1 8 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:2 A (0:27) 1; 1 R:0 W:1 (1:27) 2; 2 R:3 W:0 U (4:27) 0; 3 R:1 W:0 U (6:7) 0; 4 R:0 W:0 U (9:10) 0; 5 R:0 W:1 (10:0) 3; 6 R:1 W:0 U (12:13) 0; 7 R:0 W:0 U (16:17) 0; 8 R:0 W:0 U (25:26) 0;---------GEN; hereadd rbp,8mov [rbp],raxmovsxd rax,dword[w128]; SWAPxchg rax,[rbp]; (_iCB:; C@+movsx rbx,byte [rax]add rax,1add rbp,8mov [rbp],raxmov rax,rbx; 1?or rax,raxjz _oCB; 10; OPTN =?cmp rax,10jne _oCC; (; 3; OPTN +add rax,3; )_oCC:; 13; OPTN =?cmp rax,13jne _oCD; (; 2DROPmov rax,[rbp-8]sub rbp,8*2; 'here; OPTAV !mov dword[w128],eaxmov rax,[rbp]sub rbp,8; ;ret; )_oCD:; ROTmov rcx,[rbp]mov [rbp],raxmov rax,[rbp-8]mov [rbp-8],rcx; C!+mov rcx,[rbp]mov byte[rax],cladd rax,1sub rbp,8; SWAPxchg rax,[rbp]; )jmp _iCB_oCB:; 2DROPmov rax,[rbp-8]sub rbp,8*2; 'here; OPTAV !mov dword[w128],eaxmov rax,[rbp]sub rbp,8; ;ret;--------------------------; :,eol  e     . calls:1 niv:1 len:3 [  --  ]w13B:;---------OPT;---------ANA; 0	; [ ] ; ,c	; [ 0 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:0 U A (1:2) 0;---------GEN; 0add rbp,8mov [rbp],raxxor rax,rax; ,cjmp w131; ;;--------------------------; :c0  l'    . calls:1 niv:0 len:1 [  --  ]w13E:;---------OPT;---------ANA; ;	; [ ] ; ---- cells ----;---------GEN; ;ret;--------------------------; :c1  l'    . calls:1 niv:0 len:1 [  --  ]w13F:;---------OPT;---------ANA; ;	; [ ] ; ---- cells ----;---------GEN; ;ret;--------------------------; :c2  l'    . calls:1 niv:1 len:4 [ ab -- c ]w140:;---------OPT;---------ANA; SWAP	; [ 0 1 ] ; .b	; [ 1 0 ] ; ,s	; [ 1 2 ] ; ;	; [ 1 ] ; ---- cells ----; 0 R:0 W:1 (0:2) 1; 1 R:0 W:1 A (0:4) 2; 2 R:0 W:0 U (2:3) 0;---------GEN; SWAPxchg rax,[rbp]; .bcall w122; ,sjmp w133; ;;--------------------------; :c3  l' ;  . calls:1 niv:1 len:8 [ ab -- c ]w141:;---------OPT;---------ANA; SWAP	; [ 0 1 ] ; 0?	; [ 1 0 ] ; (	; [ 1 0 ] ; DROP	; [ 1 0 ] ; ;	; [ 1 ] ; )	; [ 1 ] ; ,s	; [ 1 0 ] ; ;	; [ 1 ] ; ---- cells ----; 0 R:1 W:1 (0:7) 1; 1 R:0 W:1 A (0:8) 2;---------GEN; SWAPxchg rax,[rbp]; 0?or rax,raxjnz _oCE; (; DROPmov rax,[rbp]sub rbp,8; ;ret; )_oCE:; ,sjmp w133; ;;--------------------------; :c4  l'    . calls:1 niv:1 len:4 [ ab -- c ]w142:;---------OPT;---------ANA; SWAP	; [ 0 1 ] ; .d	; [ 1 0 ] ; ,s	; [ 1 2 ] ; ;	; [ 1 ] ; ---- cells ----; 0 R:0 W:1 (0:2) 1; 1 R:0 W:1 A (0:4) 2; 2 R:0 W:0 U (2:3) 0;---------GEN; SWAPxchg rax,[rbp]; .dcall w121; ,sjmp w133; ;;--------------------------; :c5  l'    . calls:1 niv:1 len:3 [  --  ]w143:;---------OPT;---------ANA; $25	; [ ] ; ,c	; [ 0 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:0 U A (1:2) 0;---------GEN; $25add rbp,8mov [rbp],raxmov rax,37; ,cjmp w131; ;;--------------------------; :c6  l'    . calls:1 niv:1 len:4 [ ab -- c ]w144:;---------OPT;---------ANA; SWAP	; [ 0 1 ] ; .f	; [ 1 0 ] ; ,s	; [ 1 2 ] ; ;	; [ 1 ] ; ---- cells ----; 0 R:0 W:1 (0:2) 1; 1 R:0 W:1 A (0:4) 2; 2 R:0 W:0 U (2:3) 0;---------GEN; SWAPxchg rax,[rbp]; .fcall w125; ,sjmp w133; ;;--------------------------; :c7  l' ;  . calls:1 niv:1 len:8 [ ab -- c ]w145:;---------OPT;---------ANA; SWAP	; [ 0 1 ] ; 0?	; [ 1 0 ] ; (	; [ 1 0 ] ; DROP	; [ 1 0 ] ; ;	; [ 1 ] ; )	; [ 1 ] ; ,w	; [ 1 0 ] ; ;	; [ 1 ] ; ---- cells ----; 0 R:1 W:1 (0:7) 1; 1 R:0 W:1 A (0:8) 2;---------GEN; SWAPxchg rax,[rbp]; 0?or rax,raxjnz _oCF; (; DROPmov rax,[rbp]sub rbp,8; ;ret; )_oCF:; ,wjmp w134; ;;--------------------------; :c8  l'    . calls:1 niv:1 len:4 [ ab -- c ]w146:;---------OPT;---------ANA; SWAP	; [ 0 1 ] ; .h	; [ 1 0 ] ; ,s	; [ 1 2 ] ; ;	; [ 1 ] ; ---- cells ----; 0 R:0 W:1 (0:2) 1; 1 R:0 W:1 A (0:4) 2; 2 R:0 W:0 U (2:3) 0;---------GEN; SWAPxchg rax,[rbp]; .hcall w123; ,sjmp w133; ;;--------------------------; :c9  l'    . calls:1 niv:1 len:6 [ ab -- c ]w147:;---------OPT;---------ANA; SWAP	; [ 0 1 ] ; 16	; [ 1 0 ] ; >>	; [ 1 0 2 ] ; .d	; [ 1 3 ] ; ,s	; [ 1 4 ] ; ;	; [ 1 ] ; ---- cells ----; 0 R:0 W:1 (0:3) 1; 1 R:0 W:1 A (0:6) 2; 2 R:0 W:0 U (2:3) 0; 3 R:0 W:1 (3:4) 3; 4 R:0 W:0 U (4:5) 0;---------GEN; SWAPxchg rax,[rbp]; 16; OPTN >>sar rax,16; .dcall w121; ,sjmp w133; ;;--------------------------; :ca  l'    . calls:1 niv:1 len:6 [ ab -- c ]w148:;---------OPT;---------ANA; SWAP	; [ 0 1 ] ; $ffff	; [ 1 0 ] ; AND	; [ 1 0 2 ] ; .d	; [ 1 3 ] ; ,s	; [ 1 4 ] ; ;	; [ 1 ] ; ---- cells ----; 0 R:0 W:1 (0:3) 1; 1 R:0 W:1 A (0:6) 2; 2 R:0 W:0 U (2:3) 0; 3 R:0 W:1 (3:4) 3; 4 R:0 W:0 U (4:5) 0;---------GEN; SWAPxchg rax,[rbp]; $ffff; OPTN ANDand rax,65535; .dcall w121; ,sjmp w133; ;;--------------------------; :cb  l'    . calls:1 niv:1 len:3 [ ab -- c ]w149:;---------OPT;---------ANA; SWAP	; [ 0 1 ] ; ,c	; [ 1 0 ] ; ;	; [ 1 ] ; ---- cells ----; 0 R:0 W:1 (0:2) 1; 1 R:0 W:1 A (0:3) 2;---------GEN; SWAPxchg rax,[rbp]; ,cjmp w131; ;;--------------------------; :cc  l' ;  . calls:1 niv:1 len:8 [ ab -- c ]w14A:;---------OPT;---------ANA; SWAP	; [ 0 1 ] ; 0?	; [ 1 0 ] ; (	; [ 1 0 ] ; DROP	; [ 1 0 ] ; ;	; [ 1 ] ; )	; [ 1 ] ; ,l	; [ 1 0 ] ; ;	; [ 1 ] ; ---- cells ----; 0 R:1 W:1 (0:7) 1; 1 R:0 W:1 A (0:8) 2;---------GEN; SWAPxchg rax,[rbp]; 0?or rax,raxjnz _oD0; (; DROPmov rax,[rbp]sub rbp,8; ;ret; )_oD0:; ,ljmp w135; ;;--------------------------; :cd  l'    . calls:1 niv:0 len:1 [  --  ]w14B:;---------OPT;---------ANA; ;	; [ ] ; ---- cells ----;---------GEN; ;ret;--------------------------; :ce  l'    . calls:1 niv:1 len:3 [  --  ]w14C:;---------OPT;---------ANA; 13	; [ ] ; ,c	; [ 0 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:0 U A (1:2) 0;---------GEN; 13add rbp,8mov [rbp],raxmov rax,13; ,cjmp w131; ;;--------------------------; :cf  l'    . calls:1 niv:1 len:4 [ ab -- c ]w14D:;---------OPT;---------ANA; SWAP	; [ 0 1 ] ; .o	; [ 1 0 ] ; ,s	; [ 1 2 ] ; ;	; [ 1 ] ; ---- cells ----; 0 R:0 W:1 (0:2) 1; 1 R:0 W:1 A (0:4) 2; 2 R:0 W:0 U (2:3) 0;---------GEN; SWAPxchg rax,[rbp]; .ocall w124; ,sjmp w133; ;;--------------------------; :,emit  l  ;  . calls:1 niv:7 len:17 [ ab --  ]w14F:;---------OPT;---------ANA; $25	; [ 0 1 ] ; <>?	; [ 0 1 2 ] ; (	; [ 0 1 ] ; ,c	; [ 0 1 ] ; ;	; [ 0 ] ; )	; [ 0 ] ; DROP	; [ 0 1 ] ; C@+	; [ 0 ] ; $f	; [ 0 3 ] ; AND	; [ 0 3 4 ] ; 2	; [ 0 5 ] ; <<	; [ 0 5 6 ] ; 'control	; [ 0 7 ] ; +	; [ 0 7 8 ] ; @	; [ 0 9 ] ; EX	; [ 0 9 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:2 A (0:16) 1; 1 R:1 W:1 (0:19) 2; 2 R:1 W:0 U (1:2) 0; 3 R:0 W:0 U (8:10) 0; 4 R:0 W:0 U (9:10) 0; 5 R:0 W:1 U (10:12) 3; 6 R:0 W:0 U (11:12) 0; 7 R:0 W:1 U (12:14) 3; 8 R:0 W:0 U (13:14) 0; 9 R:0 W:2 (14:0) 3; A R:0 W:0 U A (16:0) 0;---------GEN; $25; OPTN <>?cmp rax,37je _oD1; (; ,cjmp w131; ;; )_oD1:; DROPmov rax,[rbp]sub rbp,8; C@+movsx rbx,byte [rax]add rax,1add rbp,8mov [rbp],raxmov rax,rbx; $f; OPTN ANDand rax,15; 2; OPTN <<shl rax,2; 'control; OPTAV +add rax,w14E; @movsxd rax,dword [rax]; EXmov rcx,raxmov rax,[rbp]sub rbp,8jmp rcx; ;;--------------------------; :,format  e     . calls:1 niv:8 len:7 [ a --  ]w150:;---------OPT;---------ANA; (	; [ 0 ] ; C@+	; [ 0 ] ; 1?	; [ 0 1 ] ; ,emit	; [ 0 1 ] ; )	; [ ] ; 2DROP	; [ 0 1 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:2 (0:6) 1; 1 R:1 W:0 U (2:6) 0;---------GEN; (_iD2:; C@+movsx rbx,byte [rax]add rax,1add rbp,8mov [rbp],raxmov rax,rbx; 1?or rax,raxjz _oD2; ,emitcall w14F; )jmp _iD2_oD2:; 2DROPmov rax,[rbp-8]sub rbp,8*2; ;ret;--------------------------; :mformat  e     . calls:1 niv:1 len:19 [ a -- b ]w151:;---------OPT;---------ANA; mark	; [ 0 ] ; here	; [ 0 ] ; 4096	; [ 0 1 ] ; +	; [ 0 1 2 ] ; OVER	; [ 0 3 ] ; =?	; [ 0 3 0 ] ; (	; [ 0 3 ] ; 4096	; [ 0 3 ] ; +	; [ 0 3 4 ] ; )	; [ 0 5 ] ; DUP	; [ 0 3 ] ; 'here	; [ 0 3 3 ] ; !	; [ 0 3 3 6 ] ; >R	; [ 0 3 ] ; ,format	; [ 0 ] ; ,eol	; [ ] ; empty	; [ ] ; R>	; [ ] ; ;	; [ 3 ] ; ---- cells ----; 0 R:1 W:1 (0:15) 1; 1 R:0 W:0 U (2:4) 0; 2 R:0 W:0 U (3:4) 0; 3 R:1 W:1 A (4:19) 2; 4 R:0 W:0 U (8:9) 0; 5 R:0 W:1 (9:0) 3; 6 R:0 W:0 U (12:13) 0;---------GEN; markcall w12B; hereadd rbp,8mov [rbp],raxmovsxd rax,dword[w128]; 4096; OPTN +add rax,4096; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; =?mov rbx,raxmov rax,[rbp]sub rbp,8cmp rax,rbxjne _oD3; (; 4096; OPTN +add rax,4096; )_oD3:; DUPadd rbp,8mov [rbp],rax; 'here; OPTAV !mov dword[w128],eaxmov rax,[rbp]sub rbp,8; >Rpush raxmov rax,[rbp]sub rbp,8; ,formatcall w150; ,eolcall w13B; emptycall w12C; R>add rbp,8mov [rbp],raxpop rax; ;ret;--------------------------; :cls  e     . calls:1 niv:0 len:13 [  --  ]w190:;---------OPT;---------ANA; VFRAME	; [ ] ; 0	; [ 0 ] ; DUP	; [ 0 1 ] ; 32	; [ 0 1 1 ] ; <<	; [ 0 1 1 2 ] ; OR	; [ 0 1 3 ] ; SW	; [ 0 4 ] ; SH	; [ 0 4 5 ] ; *	; [ 0 4 5 6 ] ; 1	; [ 0 4 7 ] ; >>	; [ 0 4 7 8 ] ; QFILL	; [ 0 4 9 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:0 U SI (1:12) 0; 1 R:0 W:0 U (2:7) 0; 2 R:0 W:0 U (4:5) 0; 3 R:0 W:1 U (5:6) 1; 4 R:0 W:1 DI (6:12) 1; 5 R:0 W:0 U (7:9) 0; 6 R:0 W:0 U (8:9) 0; 7 R:0 W:1 U (9:11) 2; 8 R:0 W:0 U (10:11) 0; 9 R:0 W:1 C (11:12) 2;---------GEN; VFRAMEadd rbp,8mov [rbp],raxmov rax,[SYSFRAME]; 0add rbp,8mov [rbp],raxxor rax,rax; DUPadd rbp,8mov [rbp],rax; 32; OPTN <<shl rax,32; ORor rax,[rbp]sub rbp,8; SWadd rbp,8mov [rbp],raxmov rax,XRES; SHadd rbp,8mov [rbp],raxmov rax,YRES; *imul rax,[rbp]sub rbp,8; 1; OPTN >>sar rax,1; QFILLmov rcx,raxmovsxd rax,dword[rbp]movsxd rdi,dword[rbp-8]rep stosqmov rax,[rbp-8*2]sub rbp,8*3; ;ret;--------------------------; :xy>v  e     . calls:1 niv:0 len:8 [ ab -- c ]w191:;---------OPT;---------ANA; SW	; [ 0 1 ] ; *	; [ 0 1 2 ] ; +	; [ 0 3 ] ; 2	; [ 4 ] ; <<	; [ 4 5 ] ; VFRAME	; [ 6 ] ; +	; [ 6 7 ] ; ;	; [ 8 ] ; ---- cells ----; 0 R:0 W:1 (0:3) 1; 1 R:0 W:1 U (0:2) 2; 2 R:0 W:0 U (1:2) 0; 3 R:0 W:1 U (2:3) 2; 4 R:0 W:1 U (3:5) 2; 5 R:0 W:0 U (4:5) 0; 6 R:0 W:1 U (5:7) 2; 7 R:0 W:0 U (6:7) 0; 8 R:0 W:1 A (7:8) 2;---------GEN; SWadd rbp,8mov [rbp],raxmov rax,XRES; *imul rax,[rbp]sub rbp,8; +add rax,[rbp]sub rbp,8; 2; OPTN <<shl rax,2; VFRAMEadd rbp,8mov [rbp],raxmov rax,[SYSFRAME]; +add rax,[rbp]sub rbp,8; ;ret;--------------------------; :setpix  l  ;  . calls:1 niv:0 len:9 [ ab -- c ]w1BB:;---------OPT;---------ANA; NA?	; [ 0 1 ] ; (	; [ 0 ] ; 4	; [ 0 ] ; A+	; [ 0 2 ] ; ;	; [ 0 ] ; )	; [ 0 ] ; ink	; [ 0 ] ; A!+	; [ 0 3 ] ; ;	; [ 0 ] ; ---- cells ----; 0 R:1 W:1 A (0:9) 1; 1 R:1 W:1 (0:1) 2; 2 R:0 W:0 U (3:4) 0; 3 R:0 W:0 U (7:8) 0;---------GEN; NA?mov rbx,raxmov rax,[rbp]sub rbp,8test rax,rbxjnz _o10D; (; 4; OPTN A+add r8,4; ;ret; )_o10D:; ink; OPTV A!+movsxd rbx,dword[w52]mov dword[r8],ebxadd r8,4; ;ret;--------------------------; :char8i  e'    . calls:1 niv:1 len:53 [ a --  ]w1BC:;---------OPT;---------ANA; ccx	; [ 0 ] ; ccy	; [ 0 1 ] ; xy>v	; [ 0 1 2 ] ; >A	; [ 0 3 ] ; 3	; [ 0 ] ; <<	; [ 0 4 ] ; DUP	; [ 5 ] ; 1	; [ 5 5 ] ; >>	; [ 5 5 6 ] ; +	; [ 5 7 ] ; 'rom8x12	; [ 8 ] ; +	; [ 8 9 ] ; SW	; [ A ] ; 8	; [ A B ] ; -	; [ A B C ] ; 2	; [ A D ] ; <<	; [ A D E ] ; SWAP	; [ A F ] ; 12	; [ F A ] ; (	; [ F A 10 ] ; 1?	; [ F A 10 ] ; 1	; [ F A 10 ] ; -	; [ F A 10 11 ] ; SWAP	; [ F A 12 ] ; C@+	; [ F 12 A ] ; $80	; [ F 12 A 13 ] ; (	; [ F 12 A 13 14 ] ; 1?	; [ F 12 A 13 14 ] ; OVER	; [ F 12 A 13 14 ] ; setpix	; [ F 12 A 13 14 13 ] ; 1	; [ F 12 A 13 15 ] ; >>	; [ F 12 A 13 15 16 ] ; )	; [ F 12 A 13 17 ] ; 2DROP	; [ F 12 A 13 14 ] ; PICK2	; [ F 12 A ] ; A+	; [ F 12 A F ] ; SWAP	; [ F 12 A ] ; )	; [ F A 12 ] ; SW	; [ F 12 A 13 14 ] ; 2	; [ F 12 A 13 14 18 ] ; <<	; [ F 12 A 13 14 18 19 ] ; DUP	; [ F 12 A 13 14 1A ] ; 1	; [ F 12 A 13 14 1A 1A ] ; <<	; [ F 12 A 13 14 1A 1A 1B ] ; +	; [ F 12 A 13 14 1A 1C ] ; 2	; [ F 12 A 13 14 1D ] ; <<	; [ F 12 A 13 14 1D 1E ] ; 32	; [ F 12 A 13 14 1F ] ; -	; [ F 12 A 13 14 1F 20 ] ; NEG	; [ F 12 A 13 14 21 ] ; A+	; [ F 12 A 13 14 22 ] ; 3DROP	; [ F 12 A 13 14 ] ; ;	; [ F 12 ] ; ---- cells ----; 0 R:0 W:1 (0:6) 1; 1 R:0 W:0 U (1:3) 0; 2 R:0 W:0 U (2:3) 0; 3 R:0 W:0 U (3:4) 0; 4 R:0 W:0 U (5:6) 0; 5 R:0 W:1 U (6:11) 2; 6 R:0 W:0 U (8:9) 0; 7 R:0 W:1 U (9:10) 3; 8 R:0 W:1 U (10:12) 3; 9 R:0 W:0 U (11:12) 0; A R:0 W:2 (12:52) 3; B R:0 W:0 U (13:15) 0; C R:0 W:0 U (14:15) 0; D R:0 W:1 U (15:17) 2; E R:0 W:0 U (16:17) 0; F R:0 W:1 (17:53) 2; 10 R:1 W:0 U (19:23) 0; 11 R:0 W:0 U (22:23) 0; 12 R:0 W:1 A (23:53) 4; 13 R:0 W:0 U (25:54) 0; 14 R:1 W:0 U (26:54) 0; 15 R:0 W:0 U (30:32) 0; 16 R:0 W:0 U (31:32) 0; 17 R:0 W:1 U (32:0) 5; 18 R:0 W:0 U (39:41) 0; 19 R:0 W:0 U (40:41) 0; 1A R:0 W:1 (41:45) 5; 1B R:0 W:0 U (43:44) 0; 1C R:0 W:1 U (44:45) 6; 1D R:0 W:1 U (45:47) 6; 1E R:0 W:0 U (46:47) 0; 1F R:0 W:1 U (47:49) 6; 20 R:0 W:0 U (48:49) 0; 21 R:0 W:1 U (49:50) 6; 22 R:0 W:1 (50:51) 6;---------GEN; ccxadd rbp,8mov [rbp],raxmovsxd rax,dword[w18C]; ccyadd rbp,8mov [rbp],raxmovsxd rax,dword[w18D]; xy>vcall w191; >Amov r8,raxmov rax,[rbp]sub rbp,8; 3; OPTN <<shl rax,3; DUPadd rbp,8mov [rbp],rax; 1; OPTN >>sar rax,1; +add rax,[rbp]sub rbp,8; 'rom8x12; OPTAV +add rax,w1BA; SWadd rbp,8mov [rbp],raxmov rax,XRES; 8; OPTN -sub rax,8; 2; OPTN <<shl rax,2; SWAPxchg rax,[rbp]; 12add rbp,8mov [rbp],raxmov rax,12; (_i10E:; 1?or rax,raxjz _o10E; 1; OPTN -sub rax,1; SWAPxchg rax,[rbp]; C@+movsx rbx,byte [rax]add rax,1add rbp,8mov [rbp],raxmov rax,rbx; $80add rbp,8mov [rbp],raxmov rax,128; (_i10F:; 1?or rax,raxjz _o10F; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; setpixcall w1BB; 1; OPTN >>sar rax,1; )jmp _i10F_o10F:; 2DROPmov rax,[rbp-8]sub rbp,8*2; PICK2add rbp,8mov [rbp],raxmov rax,[rbp-8*2]; A+add r8,raxmov rax,[rbp]sub rbp,8; SWAPxchg rax,[rbp]; )jmp _i10E_o10E:; SWadd rbp,8mov [rbp],raxmov rax,XRES; 2; OPTN <<shl rax,2; DUPadd rbp,8mov [rbp],rax; 1; OPTN <<shl rax,1; +add rax,[rbp]sub rbp,8; 2; OPTN <<shl rax,2; 32; OPTN -sub rax,32; NEGneg rax; A+add r8,raxmov rax,[rbp]sub rbp,8; 3DROPmov rax,[rbp-8*2]sub rbp,8*3; ;ret;--------------------------; :size8i  e'    . calls:1 niv:0 len:3 [ a -- b ]w1BD:;---------OPT;---------ANA; 8	; [ 0 ] ; NIP	; [ 0 1 ] ; ;	; [ 1 ] ; ---- cells ----; 0 R:0 W:1 (0:0) 1; 1 R:0 W:0 U A (1:3) 0;---------GEN; 8add rbp,8mov [rbp],raxmov rax,8; NIPsub rbp,8; ;ret;--------------------------; :emit  e     . calls:2 niv:3 len:10 [ a --  ]w1D1:;---------OPT;---------ANA; $ff	; [ 0 ] ; AND	; [ 0 1 ] ; DUP	; [ 2 ] ; 'char8i	; [ 2 2 ] ; EX	; [ 2 2 3 ] ; 'size8i	; [ 2 ] ; EX	; [ 2 4 ] ; 'ccx	; [ 5 ] ; +!	; [ 5 6 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:1 (0:2) 1; 1 R:0 W:0 U (1:2) 0; 2 R:0 W:1 (2:7) 2; 3 R:0 W:0 U (4:0) 0; 4 R:0 W:0 U (6:0) 0; 5 R:0 W:0 U (7:9) 0; 6 R:0 W:0 U (8:9) 0;---------GEN; $ff; OPTN ANDand rax,255; DUPadd rbp,8mov [rbp],rax; 'char8i; OPTAW EXmov rcx,w1BCcall rcx; 'size8i; OPTAW EXmov rcx,w1BDcall rcx; 'ccx; OPTAV +!add dword[w18C],eaxmov rax,[rbp]sub rbp,8; ;ret;--------------------------; :sp  e     . calls:1 niv:4 len:3 [  --  ]w1D2:;---------OPT;---------ANA; 32	; [ ] ; emit	; [ 0 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:0 U (1:2) 0;---------GEN; 32add rbp,8mov [rbp],raxmov rax,32; emitjmp w1D1; ;;--------------------------; :home  e     . calls:2 niv:0 len:7 [  --  ]w1DA:;---------OPT;---------ANA; 0	; [ ] ; 'ccx	; [ 0 ] ; !	; [ 0 1 ] ; 0	; [ ] ; 'ccy	; [ 2 ] ; !	; [ 2 3 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:0 U (1:3) 0; 1 R:0 W:0 U (2:3) 0; 2 R:0 W:0 U (4:6) 0; 3 R:0 W:0 U (5:6) 0;---------GEN; 0add rbp,8mov [rbp],raxxor rax,rax; 'ccx; OPTAV !mov dword[w18C],eaxmov rax,[rbp]sub rbp,8; 0add rbp,8mov [rbp],raxxor rax,rax; 'ccy; OPTAV !mov dword[w18D],eaxmov rax,[rbp]sub rbp,8; ;ret;--------------------------; :emits  e     . calls:1 niv:4 len:7 [ a --  ]w1DB:;---------OPT;---------ANA; (	; [ 0 ] ; C@+	; [ 0 ] ; 1?	; [ 0 1 ] ; emit	; [ 0 1 ] ; )	; [ 0 ] ; 2DROP	; [ 0 1 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:2 (0:6) 1; 1 R:1 W:0 U (2:6) 0;---------GEN; (_i11B:; C@+movsx rbx,byte [rax]add rax,1add rbp,8mov [rbp],raxmov rax,rbx; 1?or rax,raxjz _o11B; emitcall w1D1; )jmp _i11B_o11B:; 2DROPmov rax,[rbp-8]sub rbp,8*2; ;ret;--------------------------; :print  e     . calls:3 niv:5 len:3 [ a --  ]w1DC:;---------OPT;---------ANA; mformat	; [ 0 ] ; emits	; [ 1 ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:1 (0:1) 1; 1 R:0 W:0 U (1:2) 0;---------GEN; mformatcall w151; emitsjmp w1DB; ;;--------------------------; :calc  l     . calls:1 niv:1 len:24 [ abcd -- efghijk ]w1EB:;---------OPT;---------ANA; OVER	; [ 0 1 2 3 ] ; DUP	; [ 0 1 2 3 2 ] ; *.	; [ 0 1 2 3 2 2 ] ; OVER	; [ 0 1 2 3 4 ] ; DUP	; [ 0 1 2 3 4 3 ] ; *.	; [ 0 1 2 3 4 3 3 ] ; -	; [ 0 1 2 3 4 5 ] ; PICK4	; [ 0 1 2 3 6 ] ; +	; [ 0 1 2 3 6 0 ] ; PICK2	; [ 0 1 2 3 7 ] ; PICK2	; [ 0 1 2 3 7 2 ] ; *.	; [ 0 1 2 3 7 2 3 ] ; 1	; [ 0 1 2 3 7 8 ] ; <<	; [ 0 1 2 3 7 8 9 ] ; PICK4	; [ 0 1 2 3 7 A ] ; +	; [ 0 1 2 3 7 A 1 ] ; OVER	; [ 0 1 2 3 7 B ] ; DUP	; [ 0 1 2 3 7 B 7 ] ; *.	; [ 0 1 2 3 7 B 7 7 ] ; OVER	; [ 0 1 2 3 7 B C ] ; DUP	; [ 0 1 2 3 7 B C B ] ; *.	; [ 0 1 2 3 7 B C B B ] ; +	; [ 0 1 2 3 7 B C D ] ; ;	; [ 0 1 2 3 7 B E ] ; ---- cells ----; 0 R:0 W:1 (0:25) 1; 1 R:0 W:1 (0:24) 2; 2 R:0 W:1 (0:27) 3; 3 R:0 W:1 (0:26) 4; 4 R:0 W:0 U (3:7) 0; 5 R:0 W:0 U (6:7) 0; 6 R:0 W:1 U (7:9) 5; 7 R:0 W:1 (9:27) 5; 8 R:0 W:0 U (12:14) 0; 9 R:0 W:0 U (13:14) 0; A R:0 W:1 U (14:16) 6; B R:0 W:1 (16:26) 6; C R:0 W:0 U (19:23) 0; D R:0 W:0 U (22:23) 0; E R:0 W:1 A (23:24) 7;---------GEN; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; DUPadd rbp,8mov [rbp],rax; *.call w1; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; DUPadd rbp,8mov [rbp],rax; *.call w1; -neg raxadd rax,[rbp]sub rbp,8; PICK4add rbp,8mov [rbp],raxmov rax,[rbp-8*4]; +add rax,[rbp]sub rbp,8; PICK2add rbp,8mov [rbp],raxmov rax,[rbp-8*2]; PICK2add rbp,8mov [rbp],raxmov rax,[rbp-8*2]; *.call w1; 1; OPTN <<shl rax,1; PICK4add rbp,8mov [rbp],raxmov rax,[rbp-8*4]; +add rax,[rbp]sub rbp,8; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; DUPadd rbp,8mov [rbp],rax; *.call w1; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; DUPadd rbp,8mov [rbp],rax; *.call w1; +add rax,[rbp]sub rbp,8; ;ret;--------------------------; :mandel  l  ;  . calls:1 niv:2 len:46 [ ab -- cde ]w1EC:;---------OPT;---------ANA; OVER	; [ 0 1 ] ; xmax	; [ 0 1 0 ] ; xmin	; [ 0 1 0 2 ] ; -	; [ 0 1 0 2 3 ] ; SW	; [ 0 1 0 4 ] ; */	; [ 0 1 0 4 5 ] ; xmin	; [ 0 1 6 ] ; +	; [ 0 1 6 7 ] ; OVER	; [ 0 1 8 ] ; ymax	; [ 0 1 8 1 ] ; ymin	; [ 0 1 8 1 9 ] ; -	; [ 0 1 8 1 9 A ] ; SH	; [ 0 1 8 1 B ] ; */	; [ 0 1 8 1 B C ] ; ymin	; [ 0 1 8 D ] ; +	; [ 0 1 8 D E ] ; 0	; [ 0 1 8 F ] ; 0	; [ 0 1 8 F 10 ] ; 0	; [ 0 1 8 F 10 11 ] ; (	; [ 0 1 8 F 10 11 12 ] ; 255	; [ 0 1 8 F 10 11 12 ] ; <?	; [ 0 1 8 F 10 11 12 13 ] ; >R	; [ 0 1 8 F 10 11 12 ] ; calc	; [ 0 1 8 F 10 11 ] ; 4.0	; [ 0 1 14 15 16 17 18 19 1A ] ; >?	; [ 0 1 14 15 16 17 18 19 1A 1B ] ; (	; [ 0 1 14 15 16 17 18 19 1A ] ; 4DROP	; [ 0 1 14 15 16 17 18 19 1A ] ; 3DROP	; [ 0 1 14 15 16 ] ; R>	; [ 0 1 ] ; ;	; [ 0 1 12 ] ; )	; [ 0 1 12 ] ; DROP	; [ 0 1 14 15 16 17 18 19 1A ] ; ROT	; [ 0 1 14 15 16 17 18 19 ] ; DROP	; [ 0 1 14 15 16 18 19 17 ] ; ROT	; [ 0 1 14 15 16 18 19 ] ; DROP	; [ 0 1 14 15 18 19 16 ] ; R>	; [ 0 1 14 15 18 19 ] ; 1	; [ 0 1 14 15 18 19 0 ] ; +	; [ 0 1 14 15 18 19 0 1C ] ; )	; [ 0 1 14 15 18 19 1D ] ; NIP	; [ 0 1 14 15 16 17 18 19 1A ] ; NIP	; [ 0 1 14 15 16 17 18 1A ] ; NIP	; [ 0 1 14 15 16 17 1A ] ; NIP	; [ 0 1 14 15 16 1A ] ; ;	; [ 0 1 14 15 1A ] ; ---- cells ----; 0 R:0 W:1 (0:46) 1; 1 R:0 W:1 (0:46) 2; 2 R:0 W:0 U (2:4) 0; 3 R:0 W:0 U (3:4) 0; 4 R:0 W:1 U (4:6) 3; 5 R:0 W:0 U (5:6) 0; 6 R:0 W:1 U (6:8) 3; 7 R:0 W:0 U (7:8) 0; 8 R:0 W:1 (8:24) 3; 9 R:0 W:0 U (10:12) 0; A R:0 W:0 U (11:12) 0; B R:0 W:1 U (12:14) 4; C R:0 W:0 U (13:14) 0; D R:0 W:1 U (14:16) 4; E R:0 W:0 U (15:16) 0; F R:0 W:1 U (16:24) 4; 10 R:0 W:0 U (17:24) 0; 11 R:0 W:0 U (18:24) 0; 12 R:1 W:0 U A (19:0) 0; 13 R:1 W:0 U (21:22) 0; 14 R:0 W:0 U (24:47) 0; 15 R:0 W:0 U (24:47) 0; 16 R:0 W:0 U (24:37) 0; 17 R:0 W:0 U (24:35) 0; 18 R:0 W:0 U (24:28) 0; 19 R:0 W:0 U (24:28) 0; 1A R:1 W:0 U A (24:47) 0; 1B R:1 W:0 U (25:26) 0; 1C R:0 W:0 U (39:40) 0; 1D R:0 W:1 (40:0) 4;---------GEN; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; xmaxadd rbp,8mov [rbp],raxmovsxd rax,dword[w1E7]; xmin; OPTV -movsxd rbx,dword[w1E9]sub rax,rbx; SWadd rbp,8mov [rbp],raxmov rax,XRES; */mov rbx,raxmov rcx,[rbp]mov rax,[rbp-8]sub rbp,8*2cqoimul rcxidiv rbx; xmin; OPTV +movsxd rbx,dword[w1E9]add rax,rbx; OVERadd rbp,8mov [rbp],raxmov rax,[rbp-8]; ymaxadd rbp,8mov [rbp],raxmovsxd rax,dword[w1E8]; ymin; OPTV -movsxd rbx,dword[w1EA]sub rax,rbx; SHadd rbp,8mov [rbp],raxmov rax,YRES; */mov rbx,raxmov rcx,[rbp]mov rax,[rbp-8]sub rbp,8*2cqoimul rcxidiv rbx; ymin; OPTV +movsxd rbx,dword[w1EA]add rax,rbx; 0add rbp,8mov [rbp],raxxor rax,rax; 0add rbp,8mov [rbp],raxxor rax,rax; 0add rbp,8mov [rbp],raxxor rax,rax; (_i121:; 255; OPTN <?cmp rax,255jge _o121; >Rpush raxmov rax,[rbp]sub rbp,8; calccall w1EB; 4.0; OPTN >?cmp rax,262144jle _o122; (; 4DROPmov rax,[rbp-8*3]sub rbp,8*4; 3DROPmov rax,[rbp-8*2]sub rbp,8*3; R>add rbp,8mov [rbp],raxpop rax; ;ret; )_o122:; DROPmov rax,[rbp]sub rbp,8; ROTmov rcx,[rbp]mov [rbp],raxmov rax,[rbp-8]mov [rbp-8],rcx; DROPmov rax,[rbp]sub rbp,8; ROTmov rcx,[rbp]mov [rbp],raxmov rax,[rbp-8]mov [rbp-8],rcx; DROPmov rax,[rbp]sub rbp,8; R>add rbp,8mov [rbp],raxpop rax; 1; OPTN +add rax,1; )jmp _i121_o121:; NIPsub rbp,8; NIPsub rbp,8; NIPsub rbp,8; NIPsub rbp,8; ;ret;--------------------------; :color  l     . calls:1 niv:0 len:23 [ a -- b ]w1ED:;---------OPT;---------ANA; DUP	; [ 0 ] ; DUP	; [ 0 0 ] ; 3	; [ 0 0 0 ] ; <<	; [ 0 0 0 1 ] ; $ff	; [ 0 0 2 ] ; AND	; [ 0 0 2 3 ] ; ROT	; [ 0 0 4 ] ; 2	; [ 0 4 0 ] ; <<	; [ 0 4 0 5 ] ; $ff	; [ 0 4 6 ] ; AND	; [ 0 4 6 7 ] ; ROT	; [ 0 4 8 ] ; 1	; [ 4 8 0 ] ; <<	; [ 4 8 0 9 ] ; $ff	; [ 4 8 A ] ; AND	; [ 4 8 A B ] ; 8	; [ 4 8 C ] ; <<	; [ 4 8 C D ] ; OR	; [ 4 8 E ] ; 8	; [ 4 F ] ; <<	; [ 4 F 10 ] ; OR	; [ 4 11 ] ; ;	; [ 12 ] ; ---- cells ----; 0 R:0 W:1 (0:15) 1; 1 R:0 W:0 U (3:4) 0; 2 R:0 W:1 U (4:6) 2; 3 R:0 W:0 U (5:6) 0; 4 R:0 W:1 (6:22) 2; 5 R:0 W:0 U (8:9) 0; 6 R:0 W:1 U (9:11) 3; 7 R:0 W:0 U (10:11) 0; 8 R:0 W:1 (11:19) 3; 9 R:0 W:0 U (13:14) 0; A R:0 W:1 U (14:16) 4; B R:0 W:0 U (15:16) 0; C R:0 W:1 U (16:18) 4; D R:0 W:0 U (17:18) 0; E R:0 W:1 U (18:19) 4; F R:0 W:1 U (19:21) 4; 10 R:0 W:0 U (20:21) 0; 11 R:0 W:1 U (21:22) 4; 12 R:0 W:1 A (22:23) 4;---------GEN; DUPadd rbp,8mov [rbp],rax; DUPadd rbp,8mov [rbp],rax; 3; OPTN <<shl rax,3; $ff; OPTN ANDand rax,255; ROTmov rcx,[rbp]mov [rbp],raxmov rax,[rbp-8]mov [rbp-8],rcx; 2; OPTN <<shl rax,2; $ff; OPTN ANDand rax,255; ROTmov rcx,[rbp]mov [rbp],raxmov rax,[rbp-8]mov [rbp-8],rcx; 1; OPTN <<shl rax,1; $ff; OPTN ANDand rax,255; 8; OPTN <<shl rax,8; ORor rax,[rbp]sub rbp,8; 8; OPTN <<shl rax,8; ORor rax,[rbp]sub rbp,8; ;ret;--------------------------; :scrman  l     . calls:1 niv:1 len:22 [  --  ]w1EE:;---------OPT;---------ANA; VFRAME	; [ ] ; >A	; [ 0 ] ; SH	; [ ] ; (	; [ 1 ] ; 1?	; [ 1 ] ; 1	; [ 1 ] ; -	; [ 1 2 ] ; SW	; [ 3 ] ; (	; [ 3 4 ] ; 1?	; [ 3 4 ] ; 1	; [ 3 4 ] ; -	; [ 3 4 5 ] ; SWAP	; [ 3 6 ] ; mandel	; [ 6 3 ] ; color	; [ 7 8 9 ] ; A!+	; [ 7 8 A ] ; SWAP	; [ 7 8 ] ; )	; [ 8 7 ] ; DROP	; [ 3 4 ] ; )	; [ 3 ] ; DROP	; [ 3 4 ] ; ;	; [ 3 ] ; ---- cells ----; 0 R:0 W:0 U (1:2) 0; 1 R:1 W:0 U (3:7) 0; 2 R:0 W:0 U (6:7) 0; 3 R:0 W:1 A (7:22) 1; 4 R:1 W:0 U (8:23) 0; 5 R:0 W:0 U (11:12) 0; 6 R:0 W:1 (12:14) 2; 7 R:0 W:0 U (14:0) 0; 8 R:0 W:0 U (14:0) 0; 9 R:0 W:0 U (14:15) 0; A R:0 W:0 U (15:16) 0;---------GEN; VFRAMEadd rbp,8mov [rbp],raxmov rax,[SYSFRAME]; >Amov r8,raxmov rax,[rbp]sub rbp,8; SHadd rbp,8mov [rbp],raxmov rax,YRES; (_i123:; 1?or rax,raxjz _o123; 1; OPTN -sub rax,1; SWadd rbp,8mov [rbp],raxmov rax,XRES; (_i124:; 1?or rax,raxjz _o124; 1; OPTN -sub rax,1; SWAPxchg rax,[rbp]; mandelcall w1EC; colorcall w1ED; A!+mov dword[r8],eaxadd r8,4mov rax,[rbp]sub rbp,8; SWAPxchg rax,[rbp]; )jmp _i124_o124:; DROPmov rax,[rbp]sub rbp,8; )jmp _i123_o123:; DROPmov rax,[rbp]sub rbp,8; ;ret;--------------------------; :main  l     . calls:1 niv:3 len:36 [  --  ]w1EF:;---------OPT;---------ANA; cls	; [ ] ; home	; [ ] ; $ff00	; [ ] ; 'ink	; [ 0 ] ; !	; [ 0 1 ] ; " Calculando..."	; [ ] ; print	; [ 2 ] ; REDRAW	; [ ] ; MSEC	; [ ] ; 2.0	; [ 3 ] ; 'xmax	; [ 3 4 ] ; !	; [ 3 4 5 ] ; 2.0	; [ 3 ] ; 'ymax	; [ 3 6 ] ; !	; [ 3 6 7 ] ; -3.0	; [ 3 ] ; 'xmin	; [ 3 8 ] ; !	; [ 3 8 9 ] ; -2.0	; [ 3 ] ; 'ymin	; [ 3 A ] ; !	; [ 3 A B ] ; scrman	; [ 3 ] ; home	; [ 3 ] ; $ff00	; [ 3 ] ; 'ink	; [ 3 C ] ; !	; [ 3 C D ] ; sp	; [ 3 ] ; MSEC	; [ 3 ] ; SWAP	; [ 3 E ] ; -	; [ E 3 ] ; .d	; [ F ] ; print	; [ 10 ] ; " ms "	; [ ] ; print	; [ 11 ] ; waitesc	; [ ] ; ;	; [ ] ; ---- cells ----; 0 R:0 W:0 U A (3:5) 0; 1 R:0 W:0 U (4:5) 0; 2 R:0 W:0 U (6:7) 0; 3 R:0 W:0 U (9:30) 0; 4 R:0 W:0 U (10:12) 0; 5 R:0 W:0 U (11:12) 0; 6 R:0 W:0 U (13:15) 0; 7 R:0 W:0 U (14:15) 0; 8 R:0 W:0 U (16:18) 0; 9 R:0 W:0 U (17:18) 0; A R:0 W:0 U (19:21) 0; B R:0 W:0 U (20:21) 0; C R:0 W:0 U (24:26) 0; D R:0 W:0 U (25:26) 0; E R:0 W:0 U (28:30) 0; F R:0 W:1 (30:31) 1; 10 R:0 W:0 U (31:32) 0; 11 R:0 W:0 U (33:34) 0;---------GEN; clscall w190; homecall w1DA; $ff00add rbp,8mov [rbp],raxmov rax,65280; 'ink; OPTAV !mov dword[w52],eaxmov rax,[rbp]sub rbp,8; " Calculando..."add rbp,8mov [rbp],raxmov rax,str0; printcall w1DC; REDRAWcall SYSUPDATE; MSECcall SYSMSEC; 2.0add rbp,8mov [rbp],raxmov rax,131072; 'xmax; OPTAV !mov dword[w1E7],eaxmov rax,[rbp]sub rbp,8; 2.0add rbp,8mov [rbp],raxmov rax,131072; 'ymax; OPTAV !mov dword[w1E8],eaxmov rax,[rbp]sub rbp,8; -3.0add rbp,8mov [rbp],raxmov rax,-196608; 'xmin; OPTAV !mov dword[w1E9],eaxmov rax,[rbp]sub rbp,8; -2.0add rbp,8mov [rbp],raxmov rax,-131072; 'ymin; OPTAV !mov dword[w1EA],eaxmov rax,[rbp]sub rbp,8; scrmancall w1EE; homecall w1DA; $ff00add rbp,8mov [rbp],raxmov rax,65280; 'ink; OPTAV !mov dword[w52],eaxmov rax,[rbp]sub rbp,8; spcall w1D2; MSECcall SYSMSEC; SWAPxchg rax,[rbp]; -neg raxadd rax,[rbp]sub rbp,8; .dcall w121; printcall w1DC; " ms "add rbp,8mov [rbp],raxmov rax,str1; printcall w1DC; waitescjmp w103; ;;--------------------------; :  l     . calls:1 niv:4 len:2 [  --  ]INICIO:;---------OPT;---------ANA; main	; [ ] ; ;	; [ ] ; ---- cells ----;---------GEN; mainjmp w1EF; ; 